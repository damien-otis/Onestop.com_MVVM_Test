<html>
<head>
<!--

Written by Damien Otis for OneStop.com interview.

This is a demonstration of the MVVM pattern.

I chose an approach using a guid hash table for model and viewmodel. An export function
transforms the model and returns a JSON data string without guids.

This model also makes use of event delegation, with events tied to a single DOM <div> element.
This approach makes it easy to manipulate DOM elements as there are no direct event bindings
on each button or input element.

-->

<link rel="stylesheet" type="text/css" href="index.css">
</head>

<body onload="start();stats('Onestop Test - load');">

	<div id="View1"></div>

	<div style="padding:20px;font-family:arial;">
		Click to show alternate CSS styling:<br>
		<input type="button" value="skin 1" onclick="$('.Shipments').removeClass('skin2').addClass('skin1');"/>
		<input type="button" value="skin 2" onclick="$('.Shipments').removeClass('skin1').addClass('skin2');"/>
		<input type="button" value="no skin" onclick="$('.Shipments').removeClass('skin2').removeClass('skin1');"/>
	</div>

	<div style="padding:20px;font-family:arial;">
		Export model to JSON:<br>
		<input type="button" value="Export" onclick="$('#output').html(window.MVVM1.exportModel());"/>
	</div>

	<div id="output"></div>

<script src="jquery_min.js"></script>
<script src="Model.js"></script>
<script src="ViewModel.js"></script>
<script>
function start(){
	window.MVVM1 = new ViewModel({
		model	: new Model(),
		view	: $('#View1'),
		skin	: "skin1"
	});
}
</script>
</body>
</html>
